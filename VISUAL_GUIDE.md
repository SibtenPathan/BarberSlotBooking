# Barber Slot Booking System - Visual Guide

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MOBILE APP (Frontend)                    â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Select Shop  â”‚ -> â”‚   Select     â”‚ -> â”‚   Select     â”‚  â”‚
â”‚  â”‚              â”‚    â”‚   Services   â”‚    â”‚   Barber     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Select Date  â”‚ -> â”‚ Select Time  â”‚ -> â”‚   Confirm    â”‚  â”‚
â”‚  â”‚              â”‚    â”‚  Slot (15m)  â”‚    â”‚   Booking    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â”‚  Utilities: slotHelper.ts                                    â”‚
â”‚  - Calculate total duration                                  â”‚
â”‚  - Filter available slots                                    â”‚
â”‚  - Convert time formats                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ API Calls
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND (Node.js/Express)                 â”‚
â”‚                                                               â”‚
â”‚  Routes:                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ /api/shops                 - Get shops with barbers â”‚    â”‚
â”‚  â”‚ /api/services              - Get services           â”‚    â”‚
â”‚  â”‚ /api/barber-availability   - Manage working hours   â”‚    â”‚
â”‚  â”‚ /api/bookings              - Create/cancel bookings â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  Controllers:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ booking.controller.js                               â”‚    â”‚
â”‚  â”‚ - Validate consecutive slot availability            â”‚    â”‚
â”‚  â”‚ - Book multiple slots automatically                 â”‚    â”‚
â”‚  â”‚ - Free slots on cancellation                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ barberAvailability.controller.js                    â”‚    â”‚
â”‚  â”‚ - Update working hours                              â”‚    â”‚
â”‚  â”‚ - Generate 15-min slots                             â”‚    â”‚
â”‚  â”‚ - Get available slots for duration                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                               â”‚
â”‚  Utilities: slotHelper.js                                    â”‚
â”‚  - generate15MinuteSlots()                                   â”‚
â”‚  - hasConsecutiveSlots()                                     â”‚
â”‚  - getAvailableStartSlots()                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Mongoose ODM
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MongoDB Database                        â”‚
â”‚                                                               â”‚
â”‚  Collections:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ barbers                                              â”‚   â”‚
â”‚  â”‚ {                                                    â”‚   â”‚
â”‚  â”‚   workingHours: {                                    â”‚   â”‚
â”‚  â”‚     workingDays: [1,2,3,4,5,6],                      â”‚   â”‚
â”‚  â”‚     dailySchedule: [...],                            â”‚   â”‚
â”‚  â”‚     defaultStart: "09:00",                           â”‚   â”‚
â”‚  â”‚     defaultEnd: "18:00"                              â”‚   â”‚
â”‚  â”‚   },                                                 â”‚   â”‚
â”‚  â”‚   availability: [                                    â”‚   â”‚
â”‚  â”‚     {                                                â”‚   â”‚
â”‚  â”‚       date: Date,                                    â”‚   â”‚
â”‚  â”‚       slots: [                                       â”‚   â”‚
â”‚  â”‚         {time: "09:00", isBooked: false},            â”‚   â”‚
â”‚  â”‚         {time: "09:15", isBooked: false},            â”‚   â”‚
â”‚  â”‚         {time: "09:30", isBooked: true, bookingId}   â”‚   â”‚
â”‚  â”‚       ]                                              â”‚   â”‚
â”‚  â”‚     }                                                â”‚   â”‚
â”‚  â”‚   ]                                                  â”‚   â”‚
â”‚  â”‚ }                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ bookings                                             â”‚   â”‚
â”‚  â”‚ {                                                    â”‚   â”‚
â”‚  â”‚   services: [serviceId1, serviceId2],                â”‚   â”‚
â”‚  â”‚   slot_time: "10:30",                                â”‚   â”‚
â”‚  â”‚   slot_end_time: "11:15",                            â”‚   â”‚
â”‚  â”‚   total_duration: 45                                 â”‚   â”‚
â”‚  â”‚ }                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Booking Flow Diagram

```
User Selects Services
â”‚
â”œâ”€ Service 1: Haircut (30 min)
â”œâ”€ Service 2: Beard Trim (20 min)
â””â”€ Total Duration: 50 minutes
         â”‚
         â–¼
Calculate Required Slots
         â”‚
         â”œâ”€ 50 minutes Ã· 15 min/slot = 3.33
         â””â”€ Round up = 4 slots needed
                  â”‚
                  â–¼
         Filter Available Slots
                  â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚               â”‚               â”‚
Check:        Check:          Check:
10:00         10:30           11:00
  â”‚               â”‚               â”‚
  â”œâ”€ 10:00 âœ“      â”œâ”€ 10:30 âœ“      â”œâ”€ 11:00 âœ—
  â”œâ”€ 10:15 âœ“      â”œâ”€ 10:45 âœ“      â”œâ”€ 11:15 âœ—
  â”œâ”€ 10:30 âœ“      â”œâ”€ 11:00 âœ—      â”œâ”€ 11:30 âœ—
  â””â”€ 10:45 âœ“      â””â”€ 11:15 âœ—      â””â”€ 11:45 âœ—
     â”‚               â”‚               â”‚
   AVAILABLE     UNAVAILABLE     UNAVAILABLE
     â”‚
     â–¼
User Selects: 10:00
     â”‚
     â–¼
System Books Slots:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 10:00 - 10:15  âœ“   â”‚
â”‚ 10:15 - 10:30  âœ“   â”‚
â”‚ 10:30 - 10:45  âœ“   â”‚
â”‚ 10:45 - 11:00  âœ“   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Booking Confirmed: 10:00 - 11:00 (50 min)
```

## Slot Display Logic

```
All Slots for the Day (Example: 9am-12pm)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 09:00  09:15  09:30  09:45                  â”‚
â”‚ 10:00  10:15  10:30  10:45                  â”‚
â”‚ 11:00  11:15  11:30  11:45                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Service Duration: 45 minutes (3 slots)

Step 1: Check each slot as potential start time
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 09:00 â”€â”                                    â”‚
â”‚        â”œâ”€ Check next 3 slots                â”‚
â”‚ 09:15 â”€â”¤   09:00 âœ“, 09:15 âœ“, 09:30 âœ“       â”‚
â”‚        â””â”€> AVAILABLE                        â”‚
â”‚ 09:30 â”€â”                                    â”‚
â”‚        â”œâ”€ Check next 3 slots                â”‚
â”‚ 09:45 â”€â”¤   09:30 âœ“, 09:45 âœ“, 10:00 âœ—       â”‚
â”‚        â””â”€> UNAVAILABLE (10:00 booked)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2: Display only available start slots
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ 09:00  âœ“ 09:15  âœ— 09:30  âœ— 09:45        â”‚
â”‚ âœ“ 10:15  âœ“ 10:30  âœ“ 10:45                  â”‚
â”‚ âœ“ 11:00  âœ“ 11:15  âœ— 11:30  âœ— 11:45        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend:
âœ“ = Can start service here (green)
âœ— = Insufficient consecutive time (gray)
```

## Part-Time Barber Example

```
Full-Time Barber Schedule
Monday-Saturday: 9:00 AM - 6:00 PM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MON â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 18:00      â”‚
â”‚ TUE â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 18:00      â”‚
â”‚ WED â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 18:00      â”‚
â”‚ THU â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 18:00      â”‚
â”‚ FRI â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 18:00      â”‚
â”‚ SAT â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 18:00      â”‚
â”‚ SUN â”‚ --- OFF ---                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Total Slots per Day: 36 (9 hours Ã— 4 slots/hour)


Part-Time Morning Barber
Monday-Friday: 9:00 AM - 1:00 PM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MON â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â–º 13:00                    â”‚
â”‚ TUE â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â–º 13:00                    â”‚
â”‚ WED â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â–º 13:00                    â”‚
â”‚ THU â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â–º 13:00                    â”‚
â”‚ FRI â”‚ 9:00 â”€â”€â”€â”€â”€â”€â”€â”€â–º 13:00                    â”‚
â”‚ SAT â”‚ --- OFF ---                             â”‚
â”‚ SUN â”‚ --- OFF ---                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Total Slots per Day: 16 (4 hours Ã— 4 slots/hour)


Part-Time Evening Barber
Monday-Saturday: 2:00 PM - 8:00 PM
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MON â”‚             14:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 20:00   â”‚
â”‚ TUE â”‚             14:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 20:00   â”‚
â”‚ WED â”‚             14:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 20:00   â”‚
â”‚ THU â”‚             14:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 20:00   â”‚
â”‚ FRI â”‚             14:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 20:00   â”‚
â”‚ SAT â”‚             14:00 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 20:00   â”‚
â”‚ SUN â”‚ --- OFF ---                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Total Slots per Day: 24 (6 hours Ã— 4 slots/hour)
```

## Multi-Slot Booking Visualization

```
BEFORE BOOKING
Date: December 20, 2025
Barber: John Smith
Time Slots:
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚09:00â”‚09:15â”‚09:30â”‚09:45â”‚10:00â”‚10:15â”‚10:30â”‚10:45â”‚
â”‚  â—‹  â”‚  â—‹  â”‚  â—‹  â”‚  â—‹  â”‚  â—  â”‚  â—‹  â”‚  â—‹  â”‚  â—‹  â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
Legend: â—‹ = Available  â— = Booked

User Books: Haircut (30m) + Beard (20m) = 50 minutes
Start Time: 09:00
Required Slots: 4 (09:00, 09:15, 09:30, 09:45)

AFTER BOOKING
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚09:00â”‚09:15â”‚09:30â”‚09:45â”‚10:00â”‚10:15â”‚10:30â”‚10:45â”‚
â”‚  â—  â”‚  â—  â”‚  â—  â”‚  â—  â”‚  â—  â”‚  â—‹  â”‚  â—‹  â”‚  â—‹  â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
         â–²
    All linked to
    Booking #12345
```

## Slot States

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SLOT STATES                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  ðŸŸ¢ Available                                      â”‚
â”‚     - isBooked: false                              â”‚
â”‚     - Can be part of a new booking                 â”‚
â”‚     - Green indicator in UI                        â”‚
â”‚                                                    â”‚
â”‚  ðŸŸ¡ Selected (by current user)                     â”‚
â”‚     - User's current choice                        â”‚
â”‚     - Not yet confirmed                            â”‚
â”‚     - Yellow/Primary indicator in UI               â”‚
â”‚                                                    â”‚
â”‚  ðŸ”´ Booked                                         â”‚
â”‚     - isBooked: true                               â”‚
â”‚     - Has bookingId reference                      â”‚
â”‚     - Cannot be selected                           â”‚
â”‚     - Red indicator in UI (if shown)               â”‚
â”‚                                                    â”‚
â”‚  âšª Insufficient Time                              â”‚
â”‚     - Not enough consecutive slots available       â”‚
â”‚     - Cannot start service here                    â”‚
â”‚     - Gray indicator in UI                         â”‚
â”‚                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Time Format Handling

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Database (MongoDB)                 â”‚
â”‚           24-hour format: "14:30"               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Backend (Node.js API)                  â”‚
â”‚    Stores/processes: "14:30" (24-hour)          â”‚
â”‚                                                 â”‚
â”‚    slotHelper.js utilities:                     â”‚
â”‚    - convertTo24Hour("02:30 PM") -> "14:30"     â”‚
â”‚    - convertTo12Hour("14:30") -> "02:30 PM"     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Frontend (React Native)                 â”‚
â”‚    Displays: "02:30 PM" (12-hour)               â”‚
â”‚                                                 â”‚
â”‚    slotHelper.ts utilities:                     â”‚
â”‚    - convertTo12Hour() for display              â”‚
â”‚    - convertTo24Hour() when sending to API      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Example

```
User Action: Book appointment

1. User selects services
   â†“
   Services: [Haircut (30m), Beard (20m)]
   
2. Frontend calculates
   â†“
   Total Duration: 50 minutes
   Slots Needed: 4 (ceiling of 50/15)
   
3. Frontend filters slots
   â†“
   Available Start Slots: [09:00, 09:15, 10:15, ...]
   
4. User selects start time
   â†“
   Selected: 09:00
   
5. Frontend sends to backend
   â†“
   POST /api/bookings
   {
     slot_time: "09:00",
     services: [serviceId1, serviceId2]
   }
   
6. Backend validates
   â†“
   - Fetch service durations
   - Calculate total: 50 minutes
   - Check slots: 09:00, 09:15, 09:30, 09:45
   - Verify all are available
   
7. Backend creates booking
   â†“
   Booking {
     slot_time: "09:00",
     slot_end_time: "09:50",
     total_duration: 50
   }
   
8. Backend updates barber slots
   â†“
   Mark as booked:
   - 09:00 -> {isBooked: true, bookingId: xxx}
   - 09:15 -> {isBooked: true, bookingId: xxx}
   - 09:30 -> {isBooked: true, bookingId: xxx}
   - 09:45 -> {isBooked: true, bookingId: xxx}
   
9. Response to frontend
   â†“
   Success: Booking confirmed
   
10. Frontend updates UI
    â†“
    Show confirmation
    Refresh slot display
```

This visual guide should help understand how the 15-minute slot system works with part-time barber schedules!
